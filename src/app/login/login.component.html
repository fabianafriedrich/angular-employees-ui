<p-toast></p-toast>

<div>
  <h2>Login</h2>
  <form method="post" (ngSubmit)="login()" [formGroup]="formLogin">
    <div class="form-group">
      <label for="email">Email *</label>
      <p [ngClass]="{ 'has-error': isSubmitted && valuesLogin.email.errors }">
        <input type="text" id="email" name="email"
               class="form-control" placeholder="Email"
               formControlName="email" required/>
      </p>
      <div *ngIf="isSubmitted && valuesLogin.email.errors" class="help-block">
        <div *ngIf="valuesLogin.email.errors.required">Email is required</div>
      </div>

    </div>

    <div class="form-group">
      <label for="password">Password *</label>
      <p [ngClass]="{ 'has-error': isSubmitted && valuesLogin.password.errors }">
        <input type="password" id="password" name="password"
               class="form-control" placeholder="Password"
               formControlName="password" required/>
      </p>
      <div *ngIf="isSubmitted && valuesLogin.password.errors" class="help-block">
        <div *ngIf="valuesLogin.password.errors.required">Password is required</div>
      </div>
    </div>
    <button pButton type="button" (click)="showDialog()" style="margin: 2px" label="Sign Up"></button>
    <button pButton type="button" type="submit"   style="margin: 2px" label="Login"></button>
<!--    <button type="submit" class="btn btn-primary">Login</button>-->
  </form>
</div>

<p-dialog header="Sign Up" [(visible)]="display"  [style]="{width: '45vw'}" >
  <div class="container">
    <form method="post" (ngSubmit)="signUp()" [formGroup]="formSignUp" (ngSubmit)="onSubmit(formSignUp.value)">
      <div class="form-group">
        <div class="ui-g ui-fluid">
          <div class="ui-g-12">
            <div class="ui-inputgroup">
              <input formControlName="name" class="ui-inputgroup-addon" type="text" placeholder="Name">
            </div>
            <div class="ui-inputgroup">
              <p-message severity="error" text="Name is required" *ngIf="!formSignUp.controls['name'].valid&&formSignUp.controls['name'].dirty"></p-message>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="ui-g ui-fluid">
          <div class="ui-g-12">
            <div class="ui-inputgroup">
              <input formControlName="emailSignUp" class="ui-inputgroup-addon" type="text" placeholder="Email">
            </div>
            <div class="ui-inputgroup">
              <p-message severity="error" text="Email is required" *ngIf="!formSignUp.controls['emailSignUp'].valid&&formSignUp.controls['emailSignUp'].dirty"></p-message>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="ui-g ui-fluid">
          <div class="ui-g-12 ">
            <div class="ui-inputgroup">
              <input formControlName="psw" class="ui-inputgroup-addon"type="password" placeholder="Password" >
            </div>
            <div class="ui-inputgroup">
              <p-message severity="error" text="Password is required" *ngIf="!formSignUp.controls['psw'].valid&&formSignUp.controls['psw'].dirty"></p-message>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="ui-g ui-fluid">
          <div class="ui-g-12 ">
            <div class="ui-inputgroup">
              <input formControlName="confirmPsw" class="ui-inputgroup-addon"type="password" placeholder="Confirm Password" >
            </div>
            <div class="ui-inputgroup">
              <p-message severity="error" text="Password is required" *ngIf="!formSignUp.controls['confirmPsw'].valid&&formSignUp.controls['confirmPsw'].dirty"></p-message>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="ui-g ui-fluid">
          <div class="ui-g-12">
            <div class="ui-inputgroup">
              <input formControlName="profession" class="ui-inputgroup-addon" type="text" placeholder="Profession">
            </div>
            <div class="ui-inputgroup">
              <p-message severity="error" text="Profession is required" *ngIf="!formSignUp.controls['profession'].valid&&formSignUp.controls['profession'].dirty"></p-message>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="ui-g ui-fluid">
          <div class="ui-g-12">
            <div class="ui-inputgroup">
              <input formControlName="city" class="ui-inputgroup-addon" type="text" placeholder="City">
            </div>
            <div class="ui-inputgroup">
              <p-message severity="error" text="City is required" *ngIf="!formSignUp.controls['city'].valid&&formSignUp.controls['city'].dirty"></p-message>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="ui-g ui-fluid">
          <div class="ui-g-12">
            <div class="ui-inputgroup">
              <input formControlName="branch" class="ui-inputgroup-addon" type="text" placeholder="Branch">
            </div>
            <div class="ui-inputgroup">
              <p-message severity="error" text="Branch is required" *ngIf="!formSignUp.controls['branch'].valid&&formSignUp.controls['branch'].dirty"></p-message>
            </div>
          </div>
        </div>
      </div>
      <div class="ui-g-12 ">
        <div class="ui-inputgroup">
          <button id="signIn" pButton class="ui-button-success" type="submit" label="Sing In" [disabled]="!formSignUp.valid"></button>
        </div>
      </div>
    </form>
  </div>
</p-dialog>
